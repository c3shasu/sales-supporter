<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorator="layout/baselayout">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>社員情報検索画面</title>
<link href="/css/login/login.css" th:href="@{/css/login/login.css}" rel="stylesheet" />
<script type="text/javascript" src="../../../../static/javascript/jquery-2.2.3.js"></script>
<script type="text/javascript" src="../../../../static/javascript/message.js"></script>
<script type="text/javascript" src="../../../../static/javascript/menu.js"></script>
<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>

</head>
<body>
		<div th:name="childfrm" layout:fragment="contents" class="contents">
					<form method="post"  th:object="${form}">
						<div>
							<h3>社員情報検索画面</h3>
							<a>氏名<input type="text" id="datepicker" size="21" /></a> <input id="search" type="button" name="search" onClick="document.getElementById('div_2').style.display='block';" value="検索" />
  <div class="form-group">
                        <input type="text" name="sub_input" id="inputText" value="" class="form-control"/>
   </div>
  <div class="form-group">
                        <input type="button" onclick="setFormInput()" value="値を渡す" class="btn btn-success"/>
</div>
							<!-- モック中はテーブルにID付与 -->
							<table id="div_2" style="display: none">
								<tr>
									<td></td>
									<td width="200">社員番号</td>
									<td width="200">部署名</td>
									<td width="200">エンジニア名</td>
								</tr>
								<tr>
									<td><input type="radio" /></td>
									<td>123</td>
									<td>企画開発部</td>
									<td>鈴木太郎</td>
								</tr>
							</table>
						</div>

						<input type="hidden" name="_csrf" value="88439084-c569-4eea-9f08-99733912f845" />
						<input  id="confirm" type="button" onclick="window.close();" value="決定" />
					</form>
				</div>
				    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

    <script type="text/javascript">
        function setFormInput() {
            // 親ウィンドウの存在チェック
            if (!window.opener || window.opener.closed)
            {
                // 親ウィンドウが存在しない場合
                window.alert('メインウィンドウが見当たりません。');
            }
            else
            {
                //window.opener.close();
                //window.alert(window.opener);
                window.opener.document.parentfrm.parent_input.value = document.getElementById("inputText").value;
                window.close();
            }
        }
    </script>
</body>
</html>
